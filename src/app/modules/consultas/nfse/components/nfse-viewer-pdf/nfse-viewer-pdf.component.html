<div class="nfse-header-info">
  <span class="nfse-subtitle">NFSe #{{ nfseNumero }}</span>
</div>

@if (carregando) {
  <div class="nfse-loading flex flex-column align-items-center justify-content-center">
    <p-progressSpinner></p-progressSpinner>
    <p class="mt-3">Carregando PDF da NFSe...</p>
  </div>
}
@else if (temErroCarregarPdf) {
  <div class="nfse-error">
    <h3>Não foi possível carregar o PDF</h3>
    <p>{{ mensagemErro }}</p>

    <button
      pButton
      type="button"
      label="Tentar novamente"
      icon="pi pi-refresh"
      (click)="onRecarregar()"
    ></button>
  </div>
}
@else {
  <div class="nfse-pdf-wrapper">
    <ngx-extended-pdf-viewer
      [src]="pdfSrc"
      height="80vh"
      useBrowserLocale="true"
      (pdfLoaded)="onPdfLoaded($event)"
      (pdfLoadingFailed)="onErroCarregar($event)"
    ></ngx-extended-pdf-viewer>
  </div>
}
